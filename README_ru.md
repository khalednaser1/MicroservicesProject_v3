# Microservices API Gateway - ๐ท๐บ ะัััะบะฐั ะดะพะบัะผะตะฝัะฐัะธั

ะะฟะธัะฐะฝะธะต ะฟัะพะตะบัะฐ: Microservices API Gateway

ะะฐะทัะฐะฑะพัะฐะฝ API Gateway (Backend for Frontend โ BFF), ะบะพัะพััะน ะพะฑัะตะดะธะฝัะตั ะดะฐะฝะฝัะต ะธะท ะฝะตัะบะพะปัะบะธั ะผะธะบัะพัะตัะฒะธัะพะฒ ะธ ะฟัะตะดะพััะฐะฒะปัะตั ะบะปะธะตะฝัะฐะผ ะตะดะธะฝะพะต REST API. ะกะตัะฒะธั ะฟะพะดะดะตัะถะธะฒะฐะตั ะฐะณัะตะณะฐัะธั ะพัะฒะตัะพะฒ, ะบััะธัะพะฒะฐะฝะธะต ะดะฐะฝะฝัั ะธ ะผะฐัััััะธะทะฐัะธั ะทะฐะฟัะพัะพะฒ.

ะฆะตะปั ะฟัะพะตะบัะฐ:
ะกะฟัะพะตะบัะธัะพะฒะฐัั ัะปะพะน Gateway ะผะตะถะดั ะบะปะธะตะฝัะฐะผะธ ะธ ะผะธะบัะพัะตัะฒะธัะฐะผะธ, ะพะฑัะตะดะธะฝััั ะดะฐะฝะฝัะต ะธะท ัะฐะทะฝัั ะธััะพัะฝะธะบะพะฒ, ะฟัะธะผะตะฝััั ะบััะธัะพะฒะฐะฝะธะต, ะฐััะตะฝัะธัะธะบะฐัะธั ะธ ะพะฑัะฐะฑะพัะบั ะพัะธะฑะพะบ.

ะะพะผะฟะพะฝะตะฝัั ัะธััะตะผั:
โ **User Service** (ะฟะพัั 6003) โ ััะฐะฝะธั ะธะฝัะพัะผะฐัะธั ะพ ะฟะพะปัะทะพะฒะฐัะตะปัั.
โ **Product Service** (ะฟะพัั 6001) โ ััะฐะฝะธั ะดะฐะฝะฝัะต ะพ ัะพะฒะฐัะฐั.
โ **Order Service** (ะฟะพัั 6002) โ ะฒะพะทะฒัะฐัะฐะตั ัะฟะธัะพะบ ะทะฐะบะฐะทะพะฒ ะฟะพะปัะทะพะฒะฐัะตะปั.
โ **API Gateway** (ะฟะพัั 8080) โ ะฐะณัะตะณะธััะตั ะดะฐะฝะฝัะต ะธ ะฟัะตะดะพััะฐะฒะปัะตั ะบะปะธะตะฝัะฐะผ ะตะดะธะฝัะน REST API.
โ **Redis** (ะฟะพัั 6379) โ ะบััะธัะพะฒะฐะฝะธะต ะดะฐะฝะฝัั.

ะะตะฐะปะธะทะพะฒะฐะฝะฝัะน ััะตะฝะฐัะธะน:
**GET /api/profile/{userId}**
Gateway ะพะฑัะตะดะธะฝัะตั ะดะฐะฝะฝัะต ะธะท ัััั ัะตัะฒะธัะพะฒ ะธ ะฒะพะทะฒัะฐัะฐะตั ะพะฑัะธะน JSON-ะพัะฒะตั, ะบััะธััั ัะตะทัะปััะฐั ะฝะฐ 30 ัะตะบัะฝะด.

ะัะฟะพะปะฝะตะฝะฝัะต ััะฝะบัะธะพะฝะฐะปัะฝัะต ััะตะฑะพะฒะฐะฝะธั:
โ **REST API ั ะฐะณัะตะณะฐัะธะตะน ะดะฐะฝะฝัั** โ ะตะดะธะฝะฐั ัะพัะบะฐ ะดะพัััะฟะฐ /api/profile/{id}
โ **ะััะธัะพะฒะฐะฝะธะต Redis** โ TTL 30 ัะตะบัะฝะด ะดะปั ะฐะณัะตะณะธัะพะฒะฐะฝะฝัั ะพัะฒะตัะพะฒ
โ **Retry ะธ fallback** โ Polly Retry Policies (3 ะฟะพะฟััะบะธ, ัะบัะฟะพะฝะตะฝัะธะฐะปัะฝะฐั ะทะฐะดะตัะถะบะฐ)
โ **ะะฒัะพัะธะทะฐัะธั JWT** โ endpoint /token ะดะปั ะฟะพะปััะตะฝะธั access_token
โ **Health Checks** โ endpoint /health ะดะปั ะผะพะฝะธัะพัะธะฝะณะฐ ัะพััะพัะฝะธั

ะัะฟะพะปะฝะตะฝะฝัะต ะฝะตััะฝะบัะธะพะฝะฐะปัะฝัะต ััะตะฑะพะฒะฐะฝะธั:
โ **ะะพะณะธัะพะฒะฐะฝะธะต:** Serilog (ััััะบัััะธัะพะฒะฐะฝะฝะพะต ะปะพะณะธัะพะฒะฐะฝะธะต ะฒ ะบะพะฝัะพะปั)

ะกัััะบัััะฐ ะฟัะพะตะบัะฐ:
> MicroservicesProject_v3/
โโโ docker-compose.yml # ะะพะฝัะธะณััะฐัะธั ะฒัะตั ะบะพะฝัะตะนะฝะตัะพะฒ
โโโ gateway/ # API Gateway
โ โโโ Dockerfile
โ โโโ Gateway.csproj
โ โโโ Program.cs # ะัะฝะพะฒะฝะฐั ะปะพะณะธะบะฐ ะฐะณัะตะณะฐัะธะธ
โ โโโ appsettings.json
โโโ product-service/ # ะกะตัะฒะธั ะฟัะพะดัะบัะพะฒ
โโโ order-service/ # ะกะตัะฒะธั ะทะฐะบะฐะทะพะฒ
โโโ user-service/ # ะกะตัะฒะธั ะฟะพะปัะทะพะฒะฐัะตะปะตะน
โโโ README.md # ะะพะบัะผะตะฝัะฐัะธั
